(function(e){function t(t){for(var r,c,o=t[0],a=t[1],u=t[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==i[a]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},s=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/frontend-quiz/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=a;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"01cd":function(e,t,n){"use strict";n("5af5")},1828:function(e,t,n){},"207a":function(e,t,n){"use strict";n("b429")},"2a5e":function(e,t,n){},"322a":function(e,t,n){},3830:function(e,t,n){},5729:function(e,t,n){},"5af5":function(e,t,n){},"5d3a":function(e,t,n){"use strict";n("322a")},6676:function(e,t,n){},"66cb":function(e,t,n){"use strict";n("5729")},"70c3":function(e,t,n){"use strict";n("3830")},b429:function(e,t,n){},c486:function(e,t,n){"use strict";n("2a5e")},c6c2:function(e,t,n){"use strict";n("1828")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function i(e,t,n,i,s,c){var o=Object(r["A"])("Quiz");return Object(r["u"])(),Object(r["d"])(o)}var s={class:"content-container"},c={class:"content-wrapper"};function o(e,t,n,i,o,a){var u=Object(r["A"])("QuizForm"),l=Object(r["A"])("QuizTest"),d=Object(r["A"])("QuizResults");return Object(r["u"])(),Object(r["f"])("div",s,[Object(r["g"])("div",c,["homepage"===e.activeView?(Object(r["u"])(),Object(r["d"])(u,{key:0,onOnSubmit:e.setFormValues},null,8,["onOnSubmit"])):"quiz"===e.activeView?(Object(r["u"])(),Object(r["d"])(l,{key:1,quizId:e.formValues.quizId,onOnSubmitAnswerHandler:e.saveQuestionAnswer,onOnLastQuestion:e.goToResults},null,8,["quizId","onOnSubmitAnswerHandler","onOnLastQuestion"])):(Object(r["u"])(),Object(r["d"])(d,{key:2,formValues:e.formValues,answers:e.questionAnswers,onOnClick:e.retakeQuiz},null,8,["formValues","answers","onOnClick"]))])])}n("b0c0");var a=n("bc3a"),u=n.n(a),l={class:"form-wrapper"},d=Object(r["g"])("h1",{class:"quiz-form-heading"},"Technical task - Quiz",-1),f={class:"form__fields-wrapper"},b={class:"form__field-wrapper"},O=Object(r["g"])("label",{for:"name",class:"form__label"},"Name",-1),m={class:"form__input-feedback"},j={key:0,class:"form__error-message"},p={key:1,class:"form__field-wrapper"},v=Object(r["g"])("label",{for:"test",class:"form__label"},"Test",-1),h={class:"form__select-wrapper"},g=Object(r["g"])("option",{value:"",selected:"",hidden:"",disabled:""}," Please choose test ",-1),w=["value"],z=Object(r["g"])("span",{class:"form__select-icon"},null,-1),q={class:"form__input-feedback"},y={key:0,class:"form__error-message"},_={class:"form__submit-wrapper"},Q=Object(r["h"])("Start");function A(e,t,n,i,s,c){var o=Object(r["A"])("FetchingError"),a=Object(r["A"])("Button");return Object(r["u"])(),Object(r["f"])("div",l,[d,Object(r["g"])("form",{class:"form",novalidate:"",onSubmit:t[2]||(t[2]=Object(r["I"])((function(){return e.submitForm&&e.submitForm.apply(e,arguments)}),["prevent"]))},[Object(r["g"])("div",f,[Object(r["g"])("div",b,[O,Object(r["H"])(Object(r["g"])("input",{type:"text",class:Object(r["q"])(["form__input",e.v$.$dirty&&(e.v$.formValues.name.$error?"form__input--invalid":"form__input--valid")]),id:"name",placeholder:"Please enter your name",ref:"nameRef","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formValues.name=t})},null,2),[[r["E"],e.formValues.name,void 0,{trim:!0}]]),Object(r["g"])("div",m,[e.v$.formValues.name.$error?(Object(r["u"])(),Object(r["f"])("div",j,Object(r["B"])(e.v$.formValues.name.$errors[0].$message),1)):Object(r["e"])("",!0)])]),e.fetchingError?(Object(r["u"])(),Object(r["d"])(o,{key:0})):(Object(r["u"])(),Object(r["f"])("div",p,[v,Object(r["g"])("div",h,[Object(r["H"])(Object(r["g"])("select",{class:Object(r["q"])(["form__input form__select",e.v$.$dirty&&(e.v$.formValues.quizId.$error?"form__input--invalid":"form__input--valid")]),id:"test","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formValues.quizId=t})},[g,(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.selectOptions,(function(e){return Object(r["u"])(),Object(r["f"])("option",{value:e.id,key:e.id},Object(r["B"])(e.title),9,w)})),128))],2),[[r["D"],e.formValues.quizId]]),z]),Object(r["g"])("div",q,[e.v$.formValues.quizId.$error?(Object(r["u"])(),Object(r["f"])("div",y,Object(r["B"])(e.v$.formValues.quizId.$errors[0].$message),1)):Object(r["e"])("",!0)])]))]),Object(r["g"])("div",_,[Object(r["i"])(a,{"additional-class":"primary"},{default:Object(r["G"])((function(){return[Q]})),_:1})])],32)])}var k=n("25a0"),V=n("e3e1"),I=["disabled"];function $(e,t,n,i,s,c){return Object(r["u"])(),Object(r["f"])("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("button:on-click")}),class:Object(r["q"])(["button",e.disabled?"button--disabled button--".concat(e.additionalClass):"button--".concat(e.additionalClass)]),disabled:e.disabled},[Object(r["z"])(e.$slots,"default")],10,I)}n("caad");var B=Object(r["j"])({name:"Button",props:{additionalClass:{type:String,validator:function(e){return["primary","secondary","disabled"].includes(e)}},disabled:Boolean}}),x=(n("70c3"),n("6b0d")),E=n.n(x);const S=E()(B,[["render",$]]);var P=S,C=Object(r["j"])({name:"QuizForm",components:{Button:P},data:function(){return{v$:Object(k["a"])(),fetchingError:!1,loading:!0,selectOptions:[],formValues:{name:"",quizId:""}}},emits:["onSubmit"],created:function(){var e=this;u.a.get("",{params:{action:"quizzes"}}).then((function(t){var n=t.data;e.selectOptions=n,e.loading=!1})).catch((function(t){t&&(e.fetchingError=!0)}))},mounted:function(){var e=this.$refs.nameRef;e.focus()},methods:{submitForm:function(){this.v$.$validate(),this.v$.$error||(this.$emit("onSubmit",this.formValues),this.formValues={name:"",quizId:""})}},validations:function(){return{formValues:{name:{required:V["a"]},quizId:{required:V["a"]}}}}});n("c6c2");const R=E()(C,[["render",A]]);var F=R,L=(n("99af"),{key:2,class:"results"}),T={style:{"text-transform":"capitalize"}},H={class:"results__text"},M=Object(r["h"])(" Re-take quiz ");function U(e,t,n,i,s,c){var o=this,a=Object(r["A"])("FetchingError"),u=Object(r["A"])("Loader"),l=Object(r["A"])("Button");return e.fetchingError?(Object(r["u"])(),Object(r["d"])(a,{key:0})):e.loading?(Object(r["u"])(),Object(r["d"])(u,{key:1})):(Object(r["u"])(),Object(r["f"])("div",L,[Object(r["g"])("h2",T,Object(r["B"])("Thanks, ".concat(e.formValues.name,"!")),1),Object(r["g"])("span",H,Object(r["B"])("You answered correctly to ".concat(e.quizResults.correct," out of ").concat(e.quizResults.total," questions.")),1),Object(r["i"])(l,{"additional-class":"primary","onButton:onClick":t[0]||(t[0]=function(e){return o.$emit("onClick")})},{default:Object(r["G"])((function(){return[M]})),_:1})]))}var G={class:"loader-wrapper"},J=Object(r["g"])("div",{class:"loader"},null,-1),N=[J];function D(e,t,n,i,s,c){return Object(r["u"])(),Object(r["f"])("div",G,N)}var Y=Object(r["j"])({name:"Loader"});n("207a");const K=E()(Y,[["render",D]]);var W=K,X={style:{"text-align":"center"}};function Z(e,t,n,i,s,c){return Object(r["u"])(),Object(r["f"])("h4",X,"Could not retrieve data...")}var ee=Object(r["j"])({name:"FetchingError"});const te=E()(ee,[["render",Z]]);var ne=te,re=Object(r["j"])({name:"QuizResults",components:{Button:P,Loader:W,FetchingError:ne},emits:["onClick"],props:{formValues:{type:Object,required:!0},answers:{type:Array,required:!0}},data:function(){return{fetchingError:!1,loading:!0,quizResults:{}}},created:function(){var e=this;u.a.get("",{params:{action:"submit",quizId:this.formValues.quizId,answers:this.answers}}).then((function(t){var n=t.data;e.quizResults=n,e.loading=!1})).catch((function(t){t&&(e.fetchingError=!0)}))}});n("5d3a");const ie=E()(re,[["render",U]]);var se=ie,ce={class:"quiz-question"},oe={class:"answer-container-wrapper"},ae={key:2,class:"answer-container"};function ue(e,t,n,i,s,c){var o=Object(r["A"])("FetchingError"),a=Object(r["A"])("Loader"),u=Object(r["A"])("QuizAnswer"),l=Object(r["A"])("Button"),d=Object(r["A"])("ProgressBar");return Object(r["u"])(),Object(r["f"])("div",null,[Object(r["g"])("h3",ce,Object(r["B"])(e.getQuestion()),1),Object(r["g"])("form",{onSubmit:t[1]||(t[1]=Object(r["I"])((function(){return e.submitAnswer&&e.submitAnswer.apply(e,arguments)}),["prevent"])),class:"quiz"},[Object(r["g"])("div",oe,[e.fetchingError?(Object(r["u"])(),Object(r["d"])(o,{key:0})):e.loading?(Object(r["u"])(),Object(r["d"])(a,{key:1})):(Object(r["u"])(),Object(r["f"])("div",ae,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.activeQuestionAnswers,(function(n){return Object(r["u"])(),Object(r["d"])(u,{key:n.id,id:n.id,title:n.title,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedAnswer=t})},null,8,["id","title"])})),128))]))]),Object(r["i"])(l,{"additional-class":"primary",disabled:!e.selectedAnswer},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.checkIfLastQuestion()?"Submit":"Next question"),1)]})),_:1},8,["disabled"])],32),e.numberOfQuestions?(Object(r["u"])(),Object(r["d"])(d,{key:0,width:e.getProgressBarCompleteness(),content:e.getProgressBarContent()},null,8,["width","content"])):Object(r["e"])("",!0)])}var le=n("1da1"),de=(n("96cf"),["for"]),fe=["id","value"],be={class:"quiz__answer-label"};function Oe(e,t,n,i,s,c){return Object(r["u"])(),Object(r["f"])("label",{for:e.id},[Object(r["g"])("input",{type:"radio",name:"answers",class:"quiz__answer-input",ref:"inputRef",id:e.id,value:e.id,onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,40,fe),Object(r["g"])("span",be,Object(r["B"])(e.title),1)],8,de)}var me=Object(r["j"])({name:"QuizAnswer",props:["id","title","modelValue"],emits:["update:modelValue"]});n("eabd");const je=E()(me,[["render",Oe]]);var pe=je,ve=Object(r["g"])("h5",{style:{"margin-bottom":"4px"}},"Progress:",-1),he={class:"progress-bar-outer"};function ge(e,t,n,i,s,c){return Object(r["u"])(),Object(r["f"])(r["a"],null,[ve,Object(r["g"])("div",he,[Object(r["g"])("div",{class:"progress-bar-inner",style:Object(r["r"])({width:"".concat(e.width,"%")})},Object(r["B"])(e.content),5)])],64)}var we=Object(r["j"])({name:"ProgressBar",props:["width","content"]});n("c486");const ze=E()(we,[["render",ge]]);var qe=ze,ye=Object(r["j"])({name:"QuizTest",components:{QuizAnswer:pe,Button:P,ProgressBar:qe,Loader:W,FetchingError:ne},props:["quizId"],emits:["onSubmitAnswerHandler","onLastQuestion"],data:function(){return{fetchingError:!1,loading:!0,quizQuestions:[],activeQuestionIndex:0,activeQuestionAnswers:[],selectedAnswer:""}},created:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("",{params:{action:"questions",quizId:e.quizId}}).then((function(t){var n=t.data;e.quizQuestions=n})).catch((function(t){t&&(e.fetchingError=!0)}));case 2:if(!e.fetchingError){t.next=4;break}return t.abrupt("return");case 4:e.getAnswers();case 5:case"end":return t.stop()}}),t)})))()},computed:{numberOfQuestions:function(){return this.quizQuestions.length}},watch:{activeQuestionIndex:function(){this.loading=!0,this.getAnswers()}},methods:{getQuestion:function(){var e;return null===(e=this.quizQuestions[this.activeQuestionIndex])||void 0===e?void 0:e.title},getAnswers:function(){var e=this,t=this.quizQuestions[this.activeQuestionIndex].id;u.a.get("",{params:{action:"answers",quizId:this.quizId,questionId:t}}).then((function(t){var n=t.data;e.activeQuestionAnswers=n,e.loading=!1})).catch((function(t){t&&(e.fetchingError=!0)}))},submitAnswer:function(){this.selectedAnswer&&(this.$emit("onSubmitAnswerHandler",this.selectedAnswer),this.activeQuestionIndex+1!==this.numberOfQuestions?(this.activeQuestionIndex++,this.selectedAnswer=""):this.$emit("onLastQuestion"))},getProgressBarCompleteness:function(){return Math.round((this.activeQuestionIndex+1)/this.numberOfQuestions*100)},getProgressBarContent:function(){return"".concat(this.activeQuestionIndex+1," / ").concat(this.numberOfQuestions)},checkIfLastQuestion:function(){return this.activeQuestionIndex+1===this.numberOfQuestions}}});n("fe60");const _e=E()(ye,[["render",ue]]);var Qe=_e;u.a.defaults.baseURL="https://printful.com/test-quiz.php";var Ae=Object(r["j"])({name:"Quiz",components:{QuizTest:Qe,QuizForm:F,QuizResults:se},data:function(){return{activeView:"homepage",formValues:{},questionAnswers:[]}},methods:{setFormValues:function(e){this.formValues={name:e.name.toLowerCase(),quizId:e.quizId},this.activeView="quiz"},saveQuestionAnswer:function(e){this.questionAnswers.push(e)},goToResults:function(){this.activeView="results"},retakeQuiz:function(){this.activeView="homepage",this.questionAnswers=[]}}});n("66cb");const ke=E()(Ae,[["render",o]]);var Ve=ke,Ie=Object(r["j"])({name:"App",components:{Quiz:Ve}});n("01cd");const $e=E()(Ie,[["render",i]]);var Be=$e;Object(r["c"])(Be).mount("#app")},eabd:function(e,t,n){"use strict";n("6676")},ec9e:function(e,t,n){},fe60:function(e,t,n){"use strict";n("ec9e")}});
//# sourceMappingURL=app.d0627058.js.map